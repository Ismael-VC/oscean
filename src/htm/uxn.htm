<h2>Uxn is a virtual stack-machine designed to host the Hundred Rabbits
projects.</h2>

<img src='../media/generic/uxn.png' width='200' style='float:right'/>

<p>This <b>one-page computer</b>, programmable in <a
href='uxntal.html'>Uxntal</a>, was designed with an <a
href='devlog.html'>implementation-first</a> mindset and a focus on creating
portable <a href='roms.html'>graphical tools and games</a>. It lives at the
heart of the <a href='varvara.html'>Varvara</a> personal computer.</p>

<ul>
	<li><b>Uxn Instructions</b>: <a href='uxntal_opcodes.html'>Reference</a>, <a href='https://git.sr.ht/~rabbits/uxn-utils/tree/main/item/cli/opctest/opctest.tal' target='_blank'>Tests</a></li>
	<li><b>Varvara Devices</b>: <a href='varvara.html'>Reference</a>, <a href='https://git.sr.ht/~rabbits/uxn/tree/main/item/projects/examples/devices' target='_blank'>Tests</a></li>
</ul>

<p>This <a href='about.html'>wiki</a> and most of the audio-visual works
documented on it were created with Uxn-powered tools. </p>

<h3>Memory</h3>

<p>Uxn utilizes <a href='uxntal_stacks.html'>two circular stacks</a> of bytes,
the return stack allows it to tunnel through 128 subroutines and find its way
back. It can interface with up to <a href='uxntal_devices.html'>16
peripherals</a>, such as <a href='varvara.html#screen'>screens</a>, <a
href='varvara.html#controller'>controllers</a>, or even other <i>Uxns</i>. Each
instance has its own stack and device memory, but share a common 64kb of
addressable <a href='uxntal_memory.html'>working memory</a>. Any sequence of
bytes is a valid program, no operations can trigger errors. Uxn has no undefined
behaviors.</p>

<table border='1'>
	<tr><th><i>Shared</i></th><th>Memory</th><td>RAM</td><td>Data</td><td>64kb pages</td></tr>
	<tr><th rowspan='5'><i>Private</i></th><th rowspan='4'>Stacks</th><td rowspan='2'>Working Stack</td><td>Data</td><td>256 bytes</td></tr>
	<tr><td>Pointer</td><td>1 byte</td></tr>
	<tr><td rowspan='2'>Return Stack</td><td>Data</td><td>256 bytes</td></tr>
	<tr><td>Pointer</td><td>1 byte</td></tr>
	<tr><th>IO</th><td>Devices</td><td>Data</td><td>256 bytes</td></tr>
</table>

<h3>Basic Emulator</h3>

<p>Here is an implementation of a basic Uxn emulator in <a
href='../etc/uxncli.c.txt' target='_blank'>150 lines of C</a> which includes
the <a href='varvara.html#console'>Console device</a> and passes the opcode
tests.</p>

<pre>cc uxncli.c -o uxncli</pre>

<iframe src='../etc/uxncli.c.txt'></iframe>

<h3>Basic Assembler</h3>

<p>Here is a self-hosted implementation of the assembler in <a
href='../etc/uxnasm.tal.txt' target='_blank'>400 lines of Uxntal</a>, capable
of assembling itself and most source files that do not use pre-processor runes.
A <b>self-hosted assembler</b> is one that can assemble its own source code, in
this case, it means that no external machinery is needed to assemble roms from
tal files.</p>

<pre>cat uxnasm.tal | uxncli uxnasm.bin > uxnasm-bootstrap.rom</pre>

<iframe src='../etc/drifloon.tal.txt'></iframe>

<p>Software is bootstrappable when it does not depend on a binary seed that
cannot be built from source. Software that is not bootstrappable, even if it is
free software, is a serious security risk. The goal is to start from a minimal,
easily inspectable binary which should be readable as source and bootstrap into
a practical user interface. </p>

<p>Here is the 1.4kb binary data of the assembler above designed to be used with
the emulator.</p>

<iframe src='../etc/drifloon.rom.txt'></iframe>

<p>Stack-machines are ideal candidates for this scale of personal computing as
one can comfortably write programs directly in assembly to tackle most
computation projects without having to rely on higher-level languages.</p>

<img src='../media/generic/varvara.chill.png' width='200'/>

<p>Original illustrations created by <a href='https://kokorobot.ca/'
target='_blank'>Rekka Bellum</a>.</p>

<img src='../media/identity/uxn64.png' style='float:right'/>

<ul>
	<li><a href='https://100r.co/site/uxn.html' target='_blank'>download emulator</a></li>
	<li><a href='https://llllllll.co/t/uxn-virtual-computer/46103' target='_blank'>visit forums</a></li>
	<li><a href='https://github.com/hundredrabbits/awesome-uxn' target='_blank'>community projects</a></li>
	<li><a href='https://lists.sr.ht/~rabbits/uxn' target='_blank'>mailing list</a></li>
	<li><a href='https://rabbits.srht.site/uxn5/' target='_blank'>run in browser</a></li>
</ul>

<style>
	iframe { height:400px; background:#eee; border:2px solid black; border-radius:3px }
</style>

