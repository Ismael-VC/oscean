<!DOCTYPE html><html><head>
<meta charset="utf-8"/><meta name="viewport" content="width=device-width, inital-scale=1"/><link href="../links/main.css" type="text/css" rel="stylesheet"/><link href="../media/services/icon.png" type="image/png" rel="shortcut icon"/>
<title>XXIIVV &mdash; gyo</title></head><body>
<header><a href="home.html"><img alt="XXIIVV" src="../media/icon/logo.svg"></a></header>
<nav><ul><li><a href="roms.html">roms</a></li><li><a href="tools.html">tools</a></li><li><a href="libraries.html">libraries</a></li><li><a href="games.html">games</a></li><li><a href="toys.html">toys</a></li><li><a href="mobile.html">mobile</a></li><li><a href="unreleased.html" class="parent">unreleased</a></li></ul><ul><li><a href="pilot.html">pilot</a></li><li><a href="enfer.html">enfer</a></li><li><a href="project_euler.html">project euler</a></li><li><a href="gyo.html" class="self">gyo</a></li><li><a href="automatons.html">automatons</a></li><li><a href="unity.html">unity</a></li><li><a href="collegiennes.html">collegiennes</a></li><li><a href="marabu.html">marabu</a></li><li><a href="merveilles_portable.html">merveilles portable</a></li></ul><ul></ul></nav><main><h2>Gyo is a single-cycle Forth virtual machine.</h2>

<img src='../media/generic/gyo.jpg' width='200' style='float:right;margin-left:30px'/>

<p>This virtual machine was created as a result of experimenting with <a href='https://docs.factorcode.org/content/article-inference.html' target='_blank'>stack-effect checking</a> and so was designed around the idea that each opcode is encoded with its own stack effect. The layout of the opcodes is inspired by Koopman's <a href='https://users.ece.cmu.edu/%7Ekoopman/stack_computers/sec4_4.html' target='_blank'>Stack Computer: The New Wave</a>.</p>

<p>More details shortly.</p>

<table border='1'>
	<tr>
		<td>15</td><td>14</td><td>13</td><td>12</td><td>11</td><td>10</td><td>9</td><td>8</td>
		<td>7</td><td>6</td><td>5</td><td>4</td><td>3</td><td>2</td><td>1</td><td>0</td>
	</tr>
	<tr><td class='free'>1</td><td colspan='15'>Literal</td></tr>
	<tr><td>0</td><td class='free'>1</td><td colspan='14'>Call</td></tr>
	<tr><td>0</td><td>0</td><td class='free'>1</td><td colspan='13'>Conditional Call</td></tr>
	<tr>
		<td>0</td><td>0</td><td>0</td><td class='free'>&nbsp;</td><td colspan='4'>ALU</td>
		<td colspan='2'>WSD</td><td colspan='2'>RSD</td>
		<td>IO(N,T)</td><td>[T]=N</td><td>R=T</td><td>PC=R</td>
	</tr>
</table>

<h3>Assembly</h3>

<p>The programming of this computer is akin to writing <a href='forth.html'>Forth</a> programs. At the assembly level, opcodes are made from various mnemonics:</p>

<table border='1' class='mnemonics'>
	<tr><td colspan='8'>ALU</td><td colspan='2'>WSD</td><td colspan='2'>RSD</td><td colspan='2'>Flags</td></tr>
	<tr>
		<th>t</th><td>T</td><th>n</th><td>N</td><th>m</th><td>[T]</td><th>r</th><td>R</td>
		<th>a</th><td>+1</td><th>e</th><td>+1</td><th>d</th><td>IO(N,T)</td>
	</tr>
	<tr>
		<th>&</th><td>N&T</td><th>^</th><td>N^T</td><th>|</th><td>N|T</td><th>i</th><td>1+T</td>
		<th>U</th><td>-2</td><th>V</th><td>-2</td><th>w</th><td>[T]=N</td>
	</tr>
	<tr>
		<th>=</th><td>N==T</td><th>&gt;</th><td>N&gt;=T</td><th>&#92;</th><td>N&gt;&gt;T</td><th>/</th><td>N&lt;&lt;T</td>
		<th>u</th><td>-1</td><th>v</th><td>-1</td><th>x</th><td>R=T</td>
	</tr>
	<tr>
		<th>+</th><td>N+T</td><th>-</th><td>N-T</td><td></td><td></td><td></td><td></td>
		<td></td><td></td><td></td><td></td><th>;</th><td>PC=R</td>
	</tr>
</table>

<img src='../media/refs/leggy.png'/>

<ul>
	<li><a href='https://git.sr.ht/~rabbits/gyo' target='_blank'>source</a></li>
</ul>

<style>
	.free { background:#eee }
	.mnemonics th { font-style:italic; background:#eee }
</style>

<ul><li><code>14R10</code> &mdash; Gyo Release</li></ul></main>
<footer><a href="https://creativecommons.org/licenses/by-nc-sa/4.0" target="_blank"><img src="../media/icon/cc.svg" alt="CreativeCommons"/></a> <a href="https://webring.xxiivv.com/" target="_blank"><img src="../media/icon/webring.svg" alt="Webring"/></a> <a href="https://merveilles.town/@neauoire" rel="me" target="_blank"><img src="../media/icon/merveilles.svg" alt="Merveilles"/></a> <a href="ethics.html"><img src="../media/icon/dreipfeile.svg" alt="NoNazis!"/></a> <a href="uxn.html"><img src="../media/icon/uxn.svg" alt="UxnPowered"/></a> <span><a href="devine_lu_linvega.html">Devine Lu Linvega</a> &copy; 2023 &mdash; <a href="about.html#license">BY-NC-SA 4.0</a></span></footer>
</body></html>