<!DOCTYPE html><html><head><meta charset="utf-8"/><link href="../links/main.css" type="text/css" rel="stylesheet"/><link href="../media/services/icon.png" type="image/png" rel="shortcut icon"/><title>XXIIVV &mdash; ufx format</title></head><body><header><a href="home.html"><img alt="XXIIVV" src="../media/icon/logo.svg"/></a></header><nav><ul><li><a href="roms.html">roms</a></li><li><a href="tools.html">tools</a></li><li><a href="utilities.html">utilities</a></li><li><a href="formats.html" class="parent">formats</a></li><li><a href="games.html">games</a></li><li><a href="toys.html">toys</a></li><li><a href="mobile.html">mobile</a></li><li><a href="unreleased.html">unreleased</a></li></ul><ul><li><a href="icn_format.html">icn format</a></li><li><a href="chr_format.html">chr format</a></li><li><a href="gly_format.html">gly format</a></li><li><a href="ufx_format.html" class="self">ufx format</a></li><li><a href="tga_format.html">tga format</a></li></ul><ul></ul></nav><main><figure><img alt="Proportional Fonts in Uxn" src="../media/diary/020.jpg"/><figcaption>Proportional Fonts in Uxn</figcaption></figure><h2>UFX is a 1-bit proportional font format for the Uxn system.</h2>

<p>The <code>UF*</code> file begins with 256 bytes corresponding to the width of each of the 255 characters in the font (in pixels), followed by the pixel data in the <a href='icn_format.html'>.icn format</a> for each character. </p>

<table border='1'>
	<tr><th>Extension</th><th>Size(px)</th><th>Filesize</th></tr>
	<tr><td><code>.uf1</code></td><td>8x8(1 tile)</td><td>0x0900</td></tr>
	<tr><td><code>.uf2</code></td><td>16x16(4 tiles)</td><td>0x2100</td></tr>
	<tr><td><code>.uf3</code></td><td>24x24(9 tiles)</td><td>0x4900</td></tr>
</table>

<p>You will find this filetype in the <a href='uxn.html'>Uxn</a> ecosystem, namely in <a href='left.html'>Left</a>. Uf2 fonts can be viewed and edited with <a href='turye.html'>Turye</a>. The drawing order goes vertically as to be able to skip 2 draw calls for narrow characters:</p>

<table border='1'>
	<tr><td>0</td><td style='background:#eee'>2</td></tr>
	<tr><td>1</td><td style='background:#eee'>3</td></tr>
</table>

<p>The uf2 character drawing routine in <a href='uxntal.html'>Uxntal</a> is about 80 bytes, with the screen's <a href='varvara.html'>auto byte</a> set to <code>AUTO-YADDR</code>:</p>

<pre>
@uf2 ( char color -- )

	,&color STR
	#20 - TOS STH2k ;font-uf2 ++ LDA STHk
	.Screen/x DEI2 #00 STHr ++ ,&anchor-x STR2
	.Screen/y DEI2 ,&anchor-y STR2
	;font-uf2/glyphs STH2r 20** ++ .Screen/addr DEO2
	#08 > INC #00
	&loop
		[ LIT &color $1 ] .Screen/sprite DEOk DEO
		[ LIT2 &anchor-y $2 ] .Screen/y DEO2
		.Screen/x DEI2k #0008 ++ ROT DEO2
		INC GTHk ,&loop JCN
	POP2
	[ LIT2 &anchor-x $2 ] .Screen/x DEO2

RTN
</pre><ul></ul><p><b>Incoming</b>: <a href="turye.html">turye</a> <a href="adelie.html">adelie</a> </p></main>
<footer><a href="https://creativecommons.org/licenses/by-nc-sa/4.0" target="_blank"><img src="../media/icon/cc.svg" alt="CreativeCommons"/></a><a href="https://webring.xxiivv.com/" target="_blank"><img src="../media/icon/webring.svg" alt="Webring"/></a><a href="https://merveilles.town/@neauoire" rel="me" target="_blank"><img src="../media/icon/merveilles.svg" alt="Merveilles"/></a><a href="ethics.html"><img src="../media/icon/dreipfeile.svg" alt="Capitalism Fascism Reaction Fuck Off!"/></a><a href="uxn.html"><img src="../media/icon/uxn.svg" alt="Uxn Powered"/></a><span><a href="devine_lu_linvega.html">Devine Lu Linvega</a> &copy; 2022 &mdash; <a href="about.html">BY-NC-SA 4.0</a></span></footer></body></html>