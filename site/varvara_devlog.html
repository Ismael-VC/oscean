<!DOCTYPE html><html><head><meta charset="utf-8"/><link href="../links/main.css" type="text/css" rel="stylesheet"/><link href="../media/services/icon.png" type="image/png" rel="shortcut icon"/><title>XXIIVV &mdash; varvara devlog</title></head><body><header><a href="home.html"><img alt="XXIIVV" src="../media/icon/logo.svg"/></a></header><nav><ul><li><a href="uxntal.html">uxntal</a></li><li><a href="varvara.html" class="parent">varvara</a></li></ul><ul><li><a href="varvara_devlog.html" class="self">varvara devlog</a></li></ul><ul></ul></nav><main><h2>The Varvara development diaries.</h2>

<p>Below are a disjointed collection of thoughts on the creation of <a href='varvara.html'>Varvara</a>, a clean-slate computing stack based on the <a href='uxn.html'>Uxn</a> virtual machine.</p>

<p>Before we begin,</p>

<p>Emulation is the reproduction of the actions of a different computer with software, meaning that programs can be made to behave like circuitry. Given that an emulator can translate the actions of one computer onto the other, a program could be used on both, this is emulation. </p>

<p>Someone could devise the actions of a fictional computer that is not necessarily based on existing hardware, and write software for this fantastical computer, and programs emulating that made-up machine for existing computers, and use the same program on both computers, this is <a href='virtual_machines.html'>virtual machines</a>.</p>

<img src='../media/refs/magiciens.png' width='200'/>

<p>Over the years, I wrote software for various frameworks and peripherals. All of these projects have died with their respective platform. <b>Bitrot</b> is the inability to access digital data because hardware and software do not exist to read the format. Perhaps it's a matter of time until people build containers, players and jailbreakers to make these projects usable again, otherwise these projects were never truly mine, my learning of this language truly only ever belonged to the <a href='stack.html'>platform</a>.</p>

<p>So, why not <a href='ansi_c.html'>C</a>? While terminal utilities can be made portable, cross-platform graphical development is not, writing <a href='vga.html'>VGA</a> emulators is not quite what I had in mind.</p>

<h3>I. As Few Bits As Possible</h3>

<p>During my research into portability, I kept thinking about how pleasant it was to emulate a <a href='famicom.html'>NES</a> game today. Pulling on that thread lead me to games designed explicitly for virtual machines(such as <a href='https://fabiensanglard.net/another_world_polygons/' target='_blank'>Another World</a> or Quake), which are equally easy to play today due to their targetting of portable virtual machines, instead of the physical hardware.</p>

<img src='../media/refs/mos6502.jpg' width="100" style='float:right'/>

<p>For a time, I thought I should probably be building software for the NES, as to ensure their survival over the influx of disposable <a href='technology.html'>modern platforms</a> &mdash; So, <a href='assembly.html'>I did</a>. Sadly, most of the software that I care to write and use require slightly more than simply a 8-button controller, a mouse/tablet peripheral would be a good start as most of the work I do deals with some sort of drawing. Perhaps a Commodore 64 would be better candidate?</p>

<img src='../media/refs/hands.png' width='350'/>

<h3>II. Tarpits & Houses Of Cards</h3>

<p>If the focus of this experiment is to ensure the <a href='http://collapseos.org/why.html'>survival</a> of a piece of code by writing new emulation software for each platform, the specs should be painless to implement. Let's use the time one would need to write a passable emulator as a limit in complexity for this system. Could a CS student implement a mediocre emulation of the 6502 instructions in an afternoon? Could that design be simplified, changed in some way to make it more approachable for would-be implementers.</p>

<img src='../media/refs/bthennota.png' width='100'/>

<p><a href='subleq.html'>Subleq</a> is a <i>One-Instruction</i> architecture, an emulator for this platform takes at most 15 minutes to write. Perhaps this could be an interesting target, but what it does away in emulation complexity, it offloads onto the toolchain that will turn the text into programs, or onto the programmer. </p>

<p>Okay, let us <i>also</i> set a limit to the complexity of the toolchain as to not find ourselves in a <a href='https://esolangs.org/wiki/Turing_tarpit'>tarpit</a>. How complex an assembler can be if the maximum amount of time one could use to write it is an afternoon. It would be an equally herculean task to build an emulator and assembler for a machine with thousands of instructions; or a single instruction subleq that builds abstract logic from thousands of its primitive parts.</p>

<h3>III. Things Betwixt</h3>

<p>A <a href='paper_computer.html'>paper computer</a> was created in the early 1980s when computer access was not yet widespread, it consits of a piece of paper with 21 lines of code on the left and eight registers on the right. The instruction set of five commands is small but Turing complete and therefore enough to represent all mathematical functions(inc, dec, jmp, isz, stp). </p>

<img src="../media/refs/computers.png" width="300">

<p>In 1977, a programmer wrote a virtual machine with <a href='chip8.html'>36 instructions</a>, 16 registers, I wrote an emulator and assembler for it in a single day. But it has no mouse, the screen is barely capable of displaying readable text and the keyboard is a nightmare.</p>

<p>Somewhere along this voyage into finding a suitable target for my programs, I began thinking about <a href='collapse.html'>electronic waste</a> and how much I'd like to keep on using what I already have. As much as I love how the <a href='https://excamera.com/sphinx/fpga-j1.html'>J1</a> maps onto a FPGA, it would mean aquiring new electronics as it makes for a very poor emulation using nearly none of the optimisations available on the host computer.</p>

<p>This dream platform would therefore be designed to be emulated, its complexity would be designed around the complexity of software and not that of hardware.</p>

<h3>IV. Back & Forth</h3>

<p>The balancing act of virtual machine instructions, assembler, emulator and the resulting capabilities of its language revealed the <a href='forth.html'>forth machines</a> as the ideal systems. Parsing forth code means only to split the text into a list of words, breaking on whitespace, and to interpret each word. It was important to me that words correlate directly to their bytecode counterparts, as to make it feasable to inspect a program's data without complex tools. </p>

<p>Forth cells are typically 16-bits in length, but for this specific system I figured 8-bits would be enough to do most things. For example, the following sequence is equivalent to the 6 bytes:</p>

<pre>
   #12 #34 OVR SUB MUL <code style='color:#777'>12 / (34 - 12)</code>
a0  12  34  06  19  1b 
</pre>

<img src='../media/generic/uxn.apu.jpg' width='240'/>

<h3>V. Where To</h3>

<p>As opposed to the seemingly natural trend in software, Uxn is reaching backward in time and making itself available further and further back in time(1987), growing increasingly smaller(1kb). I kept on circling back to paper computers, and how much I wanted a machine such that even if people took computers away from me, a piece of paper could serve as a viable host in its stead. </p>

<h3>VI. Last Words</h3>

<p>The organic evolution of this project is largely due to the work of the community that gathered around it, with a special thank to Andy Alderwick and Sigrid, without whom Uxn could not have become into what it is now. Nearly a year after its outline initially appeared, <a href='https://github.com/hundredrabbits/awesome-uxn' target='_blank'>a lot of uxn code</a> has been written. In fact, this text has been written in <a href='left.html'>Left</a>, a text-editor hosted on this strange beast, oh, and this entire <a href='oscean.html'>wiki</a> was built with it.</p>
<ul></ul></main><footer><a href="https://creativecommons.org/licenses/by-nc-sa/4.0" target="_blank"><img src="../media/icon/cc.svg" alt="CreativeCommons"/></a><a href="https://webring.xxiivv.com/" target="_blank"><img src="../media/icon/webring.svg" alt="Webring"/></a><a href="https://merveilles.town/@neauoire" target="_blank"><img src="../media/icon/merveilles.svg" alt="Merveilles"/></a><a href="uxn.html"><img src="../media/icon/uxn.svg" alt="Uxn Powered"/></a><span><a href="devine_lu_linvega.html">Devine Lu Linvega</a> &copy; 2021 &mdash; <a href="about.html">BY-NC-SA 4.0</a></span></footer>
</body></html>