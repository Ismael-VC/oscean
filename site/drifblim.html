<!DOCTYPE html><html><head>
<meta charset="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link href="../links/main.css" type="text/css" rel="stylesheet"/><link href="../media/services/icon.png" type="image/png" rel="shortcut icon"/>
<title>XXIIVV &mdash; drifblim</title></head><body>
<header><a href="home.html"><img alt="XXIIVV" src="../media/icon/logo.svg"></a></header>
<nav><ul><li><a href="uxntal.html">uxntal</a></li><li><a href="varvara.html" class="parent">varvara</a></li></ul><ul><li><a href="varvara_tutorial.html">varvara tutorial</a></li><li><a href="drifblim.html" class="self">drifblim</a></li><li><a href="bicycle.html">bicycle</a></li><li><a href="beetbug.html">beetbug</a></li></ul><ul></ul></nav><main><h2>Drifblim is a Uxntal assembler, written in Uxntal.</h2>

<p>The assembler is written in <a href='uxntal.html'>Uxntal</a> itself, and is designed to help bootstrap the <a href='uxn.html'>Uxn</a> ecosystem. Drifblim exports a <a href='symbols.html'>symbols file</a> that can be used with <a href='beetbug.html'>debuggers</a>. The goal is for Driflim's source code to be released as a print-friendly document, along with its assembled hexadecimal data and the <i>napkin definition</i> of the <a href='uxn.html'>virtual machine</a>.</p>

<p>Since the assembler is written in the language it is assembling, you have two choices, download a pre-assembled <a href='https://rabbits.srht.site/drifblim/drifblim.rom' target="_blank">drifblim.rom</a>(2kb), or assemble it with <a href='https://git.sr.ht/~rabbits/uxn/tree/main/item/src/uxnasm.c' target="_blank">uxnasm.c</a>. </p>

<h3>Interactive Mode</h3>

<p>When used interactively with <a href='left.html'>Left</a>, press <kbd>ctrl+b</kbd> to assemble the source file being worked on, into the caret-prefixed output rom specified as per the following example:</p>

<pre>left source.tal | drifblim ^output.rom</pre>

<p>Drifblim emits the working file on success through the <a href='varvara.html#console'>Console/write</a> port, and is therefore compatible with <a href='https://git.sr.ht/~rabbits/uxnlin' target='_blank'>uxnlin</a>, <a href='https://git.sr.ht/~rabbits/uxnfor' target='_blank'>uxnfor</a> and <a href='https://git.sr.ht/~rabbits/uxnbal' target='_blank'>uxnbal</a>.</p>

<h3>Drifblim Standard</h3>

<p>This styleguide specifies a restricted Uxntal target aimed at compatibility with most assemblers. To validate your own assembler, see the <a href='https://git.sr.ht/~rabbits/drifblim/tree/main/item/tests' target='_blank'>tests</a>.</p>

<ul>
	<li>Limit of 48 bytes per token.</li>
	<li>Limit of 48 bytes per sublabel(scope+token).</li>
	<li>No nested comments</li>
	<li>Only one include per file, must be last token of file.</li>
	<li>No macros.</li>
</ul>

<p>Beyond features support, the following general rules apply to naming conventions:</p>

<ul>
	<li>Routines are indicated in the <code>( a b -- c)</code> style.</li>
	<li>Vectors are indicated with the <code>( -> )</code> spacer.</li>
	<li>Routine definitions using shorts use asterix, like <code>( a* -- b* )</code>.</li>
	<li>Source is indented with tabulators.</li>
	<li>Device labels are capitalized.</li>
</ul>

<img src="../media/refs/drifblim.png" alt="Drawing by Rekka Bellum">

<p><i>Drifblim is strong enough to lift Pokemon or people but has no control over its flight. This causes it to drift with the wind and end up anywhere.</i></p>

<h3>drifblim.tal</h3>

<iframe src="https://git.sr.ht/~rabbits/drifblim/blob/main/src/drifblim.tal" height='500'></iframe>

<h3>drifblim.rom</h3>

<p>This is the hexadecimal data of the drifblim assembler, I am keeping a copy of it here just in case.</p>

<pre style='background:none;padding:0'>
8017 1620 0006 a007 c660 0663 a001 1380
1037 0080 1216 0680 5e08 2000 2880 0460
0567 2000 0100 a001 2d80 1037 0080 1216
8035 6005 5420 0001 0060 003e a080 0310
1d80 0f17 0002 a001 4d80 1037 0080 1216
8035 6005 3420 0001 00a0 0160 8010 3700
8012 1680 0460 0521 2000 0100 6000 0ba0
0036 2660 05ea 6005 d600 a000 3680 b837
a001 b617 a000 0180 ba37 a004 3234 a009
2760 059e a000 0311 a000 00a0 0390 35a0
0a57 a004 3235 a000 00a0 0448 3580 0160
0016 2000 0e80 0060 000e 2000 0660 0402
4004 4ca0 01b6 176c 8000 11a0 0100 6001
f580 00a0 04c7 15a0 07f6 6002 15a0 0005
6000 0480 0310 6c80 a837 a000 0180 aa37
a000 00a0 01fe 6004 0b20 0009 2180 0060
0017 40ff ee1d 2000 0fa0 0927 a000 6760
052e a008 3060 01b2 6c80 6660 046b 2000
016c a000 6726 6000 0340 0523 9480 2808
2000 2a94 8008 13a0 0927 a008 f194 8000
0820 0037 a000 0338 aa20 fff1 2222 6002
e420 00f3 6002 f420 0025 4000 7ba0 0267
6003 a120 04e9 a000 2889 2000 06a0 087d
6001 5701 0920 ffe5 4004 d423 2134 2c60
02da 4000 f921 6002 7c80 0130 3940 007a
2160 0271 4000 7321 4001 5721 6001 3340
016f 8080 6000 d721 6001 b260 0263 4000
cd80 8060 00c8 2160 01a3 3403 4000 bf80
a060 00ba 2160 0195 3440 00ae 2180 2040
009b 2180 4040 0095 8060 4000 9021 0660
03d8 8004 0880 501f 8080 1d60 0090 4000
5621 4000 4c22 4001 dfa1 a009 27af 6004
3f60 044b 6f40 fedf 226c 0780 801c 2000
14a0 0000 a820 000a 8000 6000 6121 aa20
fff6 2222 6c80 0130 a001 012b 2000 06a0
086f 6000 9580 0130 3840 008a 9460 003e
2194 20ff f722 6c06 6003 6f06 8002 0820
000d 8004 0820 000f 22a0 083f 4000 6b02
6001 a203 4000 1760 019b 4000 0d60 000e
6000 ea34 8001 3021 2139 0460 0000 8034
13a0 0001 1008 2000 1980 0010 2000 25a0
0000 8001 302b 2000 29a0 03b5 80be 3740
0020 8010 1280 0008 2000 17a0 0884 6000
1940 000e 8000 8000 0820 0006 8001 3080
ce33 8001 3021 8001 316c 6003 d5a0 0103
116c 0660 02e4 80c7 6002 df18 802f 0a20
000a a000 0060 0358 a000 c76c a008 6640
ffd8 26a0 0097 6003 4726 a000 c78f 6003
3fa0 2f00 4f60 02ad 8f31 8000 4f01 80d2
3380 0010 2000 0222 6c60 0119 2000 3060
0129 2000 2a26 6000 7121 1d20 0028 8001
30a0 0a57 af35 6161 6126 ef60 0302 6002
866f 3821 80eb 33a0 0000 2180 fa33 6c22
a008 5940 ff74 22a0 0835 40ff 6d94 807b
0920 0003 6000 5f80 0010 2000 2494 8026
0920 0004 2160 ff5a 6000 1fa1 a000 0028
2000 08a1 2194 0105 0515 6ca0 0846 60ff
3922 a004 966c ffff 3f00 800d 33a0 0432
34a0 0a57 a000 0338 26a0 0000 6002 1f20
000e 6002 0d21 aa20 ffea 2222 a0ff ff6c
a000 0339 236c 8000 8180 fb13 06a0 0957
a180 fa33 1540 0012 80f3 32a0 0001 3994
6000 0760 ff2b 80e5 336c 0680 041f 6002
1c04 6002 1880 0a33 a004 fc6c 6c61 6d62
6461 3030 0060 002d 2002 11a0 083f 40fe
b980 0010 2000 1a34 8001 3039 a000 0239
26a0 0080 3802 2000 0203 6ca0 0850 60fe
9922 80ff 6c26 9460 01bb 0120 0004 2280
006c 2194 20ff ef22 8001 6c26 6000 0d20
0007 26a0 08ee 4001 8d80 016c 2fa0 2000
8000 0780 031a a008 8e38 ef60 0178 2000
0a01 8a20 ffea 2262 8000 6c03 0680 0008
8070 1f1d 6fa0 0003 38c0 0094 8020 0780
3208 2000 2106 1807 8072 0820 0018 0618
0780 6b08 2000 0f06 1807 8000 0820 0006
a008 7660 fe14 030f 5d21 9420 ffcd 224f
186c a000 3626 6000 f9a0 0820 2760 0170
2480 b837 a00a 57a0 0002 80ba 3726 80be
37a0 0003 3826 6000 de21 af80 ba37 2680
be37 6f38 26a0 0003 3814 20ff da22 8000
0505 156c 80ac 3780 a236 a000 0028 6ca0
0432 34a0 0a57 a121 1420 002d a000 0338
9480 4119 801a 0b20 001f 9480 2808 2000
1826 a007 f660 0096 2000 0ea0 07ea 6001
2e26 6001 2aa0 0a19 1760 0076 21aa 20ff
c522 22a0 07fc 6001 16a0 0036 6001 10a0
0807 6001 0aa0 0390 34a0 00ff 3960 0105
a008 0c60 00f9 a004 4834 6000 f8a0 0814
6000 eca0 081c 4000 e607 8021 0b20 001d
9080 2f08 2000 100f 8000 cf90 1801 314f
9001 0411 8000 6ca0 0860 60fd 1d03 9080
0005 116c 0190 20ff fb6c 0660 fff7 0419
6c21 9420 fffb 6c26 60ff f724 396c 2f94
d44f 8920 000c 061e 8820 0006 2221 6140
ffed 2362 086c 2fd4 944f 0920 0002 6121
7434 6f28 6c80 3019 0680 0a0b 2000 0d80
2719 0680 100b 2000 0302 80ff 6c80 0f1c
0680 090a 8027 1a18 8030 186c e000 00c0
407f 9460 ffcf c000 0f78 2194 20ff f022
6f6c a000 0027 3521 21aa 20ff f522 226c
2f94 8000 ef35 6121 9420 fff5 2262 6c80
0005 0595 2194 20ff fa15 6c94 8018 1721
9420 fff7 22a0 0a18 176c 9480 1917 2194
20ff f722 6ca0 2710 e000 fbbb a000 0abb
3a39 4488 07cf 081c 2000 0806 8030 1880
1917 4122 a000 0a3b 4441 cf20 ffdd 6222
226c a008 2560 ffc2 60ff bfa0 2019 17a0
0067 60ff b5a0 0807 60ff b4a0 0097 60ff
aea0 0a19 176c 7573 6167 653a 2064 7269
6662 6c69 6d2e 726f 6d20 696e 2e74 616c
206f 7574 2e72 6f6d 0a00 2d2d 2055 6e75
7365 643a 2000 5245 5345 5400 4173 7365
6d62 6c65 6420 0020 696e 2000 2062 7974
6573 2800 206c 6162 656c 7300 292e 0a00
2e73 796d 0021 2120 4572 726f 723a 2000
4669 6c65 0044 7570 6c69 6361 7465 004e
756d 6265 7200 5265 6665 7265 6e63 6500
4469 7374 616e 6365 0053 796d 626f 6c00
546f 6b65 6e00 5375 626c 6162 656c 0052
6577 696e 6400 4f70 636f 6465 004e 6573
7465 6400 5a65 726f 2d70 6167 6500 4c49
5449 4e43 504f 504e 4950 5357 5052 4f54
4455 504f 5652 4551 554e 4551 4754 484c
5448 4a4d 504a 434e 4a53 5253 5448 4c44
5a53 545a 4c44 5253 5452 4c44 4153 5441
4445 4944 454f 4144 4453 5542 4d55 4c44
4956 414e 444f 5241 454f 5253 4654 4252
4b7c 0285 2402 9040 0297 2602 9b2c 02a2
5f02 a72e 02b1 2d02 b63b 02bf 3d02 c43f
02cc 2102 d25b 0308 5d03 087d 02f5 2302
dd22 02f1 7e02 f9
</pre>

<ul>
	<li><a href='https://git.sr.ht/~rabbits/drifblim' target='_blank'>View Source</a></li>
	<li><a href='https://rabbits.srht.site/drifblim/drifblim.rom' target='_blank'>Download rom</a></li>
</ul>

<ul></ul><p class="incoming"><b>incoming</b> <a href="symbols.html">symbols</a> <a href="uxn_devlog.html">uxn devlog</a> <a href="uxntal_devlog.html">uxntal devlog</a> <a href="oscean.html">oscean</a> </p></main>
<footer><a href="https://creativecommons.org/licenses/by-nc-sa/4.0" target="_blank"><img src="../media/icon/cc.svg" alt="CreativeCommons"/></a> <a href="https://webring.xxiivv.com/" target="_blank"><img src="../media/icon/webring.svg" alt="Webring"/></a> <a href="https://merveilles.town/@neauoire" rel="me" target="_blank"><img src="../media/icon/merveilles.svg" alt="Merveilles"/></a> <a href="ethics.html"><img src="../media/icon/dreipfeile.svg" alt="NoNazis!"/></a> <a href="uxn.html"><img src="../media/icon/uxn.svg" alt="UxnPowered"/></a> <span><a href="devine_lu_linvega.html">Devine Lu Linvega</a> &copy; 2023 &mdash; <a href="about.html#license">BY-NC-SA 4.0</a></span></footer>
</body></html>