<!DOCTYPE html><html><head>
<meta charset="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link href="../links/main.css" type="text/css" rel="stylesheet"/><link href="../media/services/icon.png" type="image/png" rel="shortcut icon"/>
<title>XXIIVV &mdash; drifblim</title></head><body>
<header><a href="home.html"><img alt="XXIIVV" src="../media/icon/logo.svg"></a></header>
<nav><ul><li><a href="uxntal.html">uxntal</a></li><li><a href="varvara.html" class="parent">varvara</a></li></ul><ul><li><a href="varvara_tutorial.html">varvara tutorial</a></li><li><a href="drifblim.html" class="self">drifblim</a></li><li><a href="bicycle.html">bicycle</a></li><li><a href="beetbug.html">beetbug</a></li></ul><ul></ul></nav><main><h2>Drifblim is a Uxntal assembler, written in Uxntal.</h2>

<p>The assembler is written in <a href='uxntal.html'>Uxntal</a> itself, and is designed to help bootstrap the <a href='uxn.html'>Uxn</a> ecosystem. Drifblim exports a <a href='symbols.html'>symbols file</a> that can be used with <a href='beetbug.html'>debuggers</a>. The goal is for Driflim's source code to be released as a print-friendly document, along with its assembled hexadecimal data and the <i>napkin definition</i> of the <a href='uxn.html'>virtual machine</a>.</p>

<p>Since the assembler is written in the language it is assembling, you have two choices, download a pre-assembled <a href='https://rabbits.srht.site/drifblim/drifblim.rom' target="_blank">drifblim.rom</a>(2kb), or assemble it with <a href='https://git.sr.ht/~rabbits/uxn/tree/main/item/src/uxnasm.c' target="_blank">uxnasm.c</a>. </p>

<h3>Interactive Mode</h3>

<p>When used interactively with <a href='left.html'>Left</a>, press <kbd>ctrl+b</kbd> to assemble the source file being worked on, into the caret-prefixed output rom specified as per the following example:</p>

<pre>left source.tal | drifblim ^output.rom</pre>

<p>Drifblim emits the working file on success through the <a href='varvara.html#console'>Console/write</a> port, and is therefore compatible with <a href='https://git.sr.ht/~rabbits/uxnlin' target='_blank'>uxnlin</a>, <a href='https://git.sr.ht/~rabbits/uxnfor' target='_blank'>uxnfor</a> and <a href='https://git.sr.ht/~rabbits/uxnbal' target='_blank'>uxnbal</a>.</p>

<h3>Drifblim Standard</h3>

<p>This styleguide specifies a restricted Uxntal target aimed at compatibility with most assemblers. To validate your own assembler, see the <a href='https://git.sr.ht/~rabbits/drifblim/tree/main/item/tests' target='_blank'>tests</a>.</p>

<ul>
	<li>Limit of 48 bytes per token.</li>
	<li>Limit of 48 bytes per sublabel(scope+token).</li>
	<li>No nested comments</li>
	<li>Only one include per file, must be last token of file.</li>
	<li>No macros.</li>
</ul>

<p>Beyond features support, the following general rules apply to naming conventions:</p>

<ul>
	<li>Routines are indicated in the <code>( a b -- c)</code> style.</li>
	<li>Vectors are indicated with the <code>( -> )</code> spacer.</li>
	<li>Routine definitions using shorts use asterix, like <code>( a* -- b* )</code>.</li>
	<li>Source is indented with tabulators.</li>
	<li>Device labels are capitalized.</li>
</ul>

<img src="../media/refs/drifblim.png" alt="Drawing by Rekka Bellum">

<p><i>Drifblim is strong enough to lift Pokemon or people but has no control over its flight. This causes it to drift with the wind and end up anywhere.</i></p>

<h3>drifblim.tal</h3>

<iframe src="https://git.sr.ht/~rabbits/drifblim/blob/main/src/drifblim.tal" height='500'></iframe>

<h3>drifblim.rom</h3>

<p>This is the hexadecimal data of the drifblim assembler, I am keeping a copy of it here just in case.</p>

<pre style='background:none;padding:0'>
8017 1620 0006 a007 bd60 065a a001 1380
1037 0080 1216 0680 5e08 2000 2880 0460
056d 2000 0100 a001 2d80 1037 0080 1216
8035 6005 5a20 0001 0060 003e a080 0310
1d80 0f17 0002 a001 4d80 1037 0080 1216
8035 6005 3a20 0001 00a0 0160 8010 3700
8012 1680 0460 0527 2000 0100 6000 0ba0
0036 2660 05e1 6005 cd00 a000 3680 b837
a001 b617 a000 0180 ba37 a004 8134 a009
2160 0595 a000 0311 a000 00a0 03df 35a0
0a51 a004 8135 a000 00a0 0497 3580 0160
0016 2000 0e80 0060 000e 2000 0660 0408
4004 52a0 01b6 176c 8000 11a0 0100 6002
4480 00a0 030f 15a0 07ed 6002 64a0 0005
6000 0480 0310 6c80 a837 a000 0180 aa37
a000 00a0 01fe 6004 1120 0009 2180 0060
0017 40ff ee1d 2000 0fa0 0921 a000 6760
0525 a008 2760 0201 6c80 6660 0471 2000
016c a000 6726 6000 0340 051a 9480 2808
2000 2a94 8008 13a0 0921 a008 e894 8000
0820 0037 a000 0338 aa20 fff1 2222 6002
ea20 0142 6002 fa20 0025 4000 7ba0 0267
6003 a720 04e0 a000 2889 2000 06a0 0874
6001 a601 0920 ffe5 4004 cb23 2134 2c60
02e0 4001 4821 6002 8280 0130 3940 00c9
2160 0277 4000 c221 4001 a621 6001 8240
01be 8080 6001 2621 6002 0160 0269 4001
1c80 8060 0117 2160 01f2 3403 4001 0e80
a060 0109 2160 01e4 3440 00fd 2180 2040
00ea 2180 4040 00e4 8060 4000 df21 0660
03de 8004 0880 501f 8080 1d60 00df 4000
a521 4000 9b22 4000 1522 4000 28a1 a009
21af 6004 3260 043e 6f40 fedb 226c 8000
8180 fb13 06a0 0951 a180 fa33 1560 001b
8060 4000 9780 ee32 a000 0139 9460 000b
6001 2d80 e033 806f 4000 9206 8004 1f80
3018 0480 0f1c 8030 1880 0a33 a003 506c
6c61 6d62 6461 3030 0007 8080 1c20 0014
a000 00a8 2000 0a80 0060 0061 21aa 20ff
f622 226c 8001 30a0 0101 2b20 0006 a008
6660 0095 8001 3038 4000 8a94 6000 3e21
9420 fff7 226c 0660 0326 0680 0208 2000
0d80 0408 2000 0f22 a008 3640 006b 0260
0159 0340 0017 6001 5240 000d 6000 0e60
00ea 3480 0130 2121 3904 6000 0080 3413
a000 0110 0820 0019 8000 1020 0025 a000
0080 0130 2b20 0029 a004 0480 be37 4000
2080 1012 8000 0820 0017 a008 7b60 0019
4000 0e80 0080 0008 2000 0680 0130 80ce
3380 0130 2180 0131 6c60 037d a001 0311
6c06 6002 9b80 c760 0296 1880 2f0a 2000
0aa0 0000 6003 00a0 00c7 6ca0 085d 40ff
d826 a000 9760 02ef 26a0 00c7 8f60 02e7
a02f 004f 6002 648f 3180 004f 0180 d233
8000 1020 0002 226c 6000 d020 0030 6000
e020 002a 2660 0067 211d 2000 2880 0130
a00a 51af 3561 6161 26ef 6002 aa60 023d
6f38 2180 eb33 a000 0021 80fa 336c 22a0
0850 40ff 7422 a008 2c40 ff6d 8000 1020
0024 9480 2609 2000 0421 60ff 6460 001f
a1a0 0000 2820 0008 a121 9401 0505 156c
a008 3d60 ff43 22a0 04db 6cff ff3f 0080
0d33 a004 8134 a00a 51a0 0003 3826 a000
0060 01e0 2000 0e60 01ce 21aa 20ff ea22
22a0 ffff 6ca0 0003 3923 6c60 002d 2002
02a0 0836 40ff 0280 0010 2000 1a34 8001
3039 a000 0239 26a0 0080 3802 2000 0203
6ca0 0847 60fe e222 80ff 6c26 9460 01bb
0120 0004 2280 006c 2194 20ff ef22 8001
6c26 6000 0d20 0007 26a0 08e5 4001 8d80
016c 2fa0 2000 8000 0780 031a a008 8538
ef60 0178 2000 0a01 8a20 ffea 2262 8000
6c03 0680 0008 8070 1f1d 6fa0 0003 38c0
0094 8020 0780 3208 2000 2106 1807 8072
0820 0018 0618 0780 6b08 2000 0f06 1807
8000 0820 0006 a008 6d60 fe5d 030f 5d21
9420 ffcd 224f 186c a000 3626 6000 f9a0
0817 2760 0161 2480 b837 a00a 51a0 0002
80ba 3726 80be 37a0 0003 3826 6000 de21
af80 ba37 2680 be37 6f38 26a0 0003 3814
20ff da22 8000 0505 156c 80ac 3780 a236
a000 0028 6ca0 0481 34a0 0a51 a121 1420
002d a000 0338 9480 4119 801a 0b20 001f
9480 2808 2000 1826 a007 ed60 0096 2000
0ea0 07e1 6001 1f26 6001 1ba0 0a19 1760
0076 21aa 20ff c522 22a0 07f3 6001 07a0
0036 6001 01a0 07fe 6000 fba0 03df 34a0
00ff 3960 00f6 a008 0360 00ea a004 9734
6000 e9a0 080b 6000 dda0 0813 4000 d707
8021 0b20 001d 9080 2f08 2000 100f 8000
cf90 1801 314f 9001 0411 8000 6ca0 0857
60fd 6603 9080 0005 116c 0190 20ff fb6c
0660 fff7 0419 6c21 9420 fffb 6c26 60ff
f724 396c 2f94 d44f 8920 000c 061e 8820
0006 2221 6140 ffed 2362 086c 2fd4 944f
0920 0002 6121 7434 6f28 6c80 3019 0680
0a0b 2000 0d80 2719 0680 100b 2000 0302
80ff 6ce0 0000 c040 7f94 60ff dec0 000f
7821 9420 fff0 226f 6ca0 0000 2735 2121
aa20 fff5 2222 6c2f 9480 00ef 3561 2194
20ff f522 626c 8000 0505 9521 9420 fffa
156c 9480 1817 2194 20ff f722 a00a 1817
6c94 8019 1721 9420 fff7 226c a027 10e0
00fb bba0 000a bb3a 3944 8807 cf08 1c20
0008 0680 3018 8019 1741 22a0 000a 3b44
41cf 20ff dd62 2222 6ca0 081c 60ff c260
ffbf a020 1917 a000 6760 ffb5 a007 fe60
ffb4 a000 9760 ffae a00a 1917 6c75 7361
6765 3a20 6472 6966 626c 696d 2e72 6f6d
2069 6e2e 7461 6c20 6f75 742e 726f 6d0a
002d 2d20 556e 7573 6564 3a20 0052 4553
4554 0041 7373 656d 626c 6564 2000 2069
6e20 0020 6279 7465 7328 0020 6c61 6265
6c73 0029 2e0a 002e 7379 6d00 2121 2045
7272 6f72 3a20 0046 696c 6500 4475 706c
6963 6174 6500 4e75 6d62 6572 0052 6566
6572 656e 6365 0044 6973 7461 6e63 6500
5379 6d62 6f6c 0054 6f6b 656e 0053 7562
6c61 6265 6c00 5265 7769 6e64 004f 7063
6f64 6500 4e65 7374 6564 005a 6572 6f2d
7061 6765 004c 4954 494e 4350 4f50 4e49
5053 5750 524f 5444 5550 4f56 5245 5155
4e45 5147 5448 4c54 484a 4d50 4a43 4e4a
5352 5354 484c 445a 5354 5a4c 4452 5354
524c 4441 5354 4144 4549 4445 4f41 4444
5355 424d 554c 4449 5641 4e44 4f52 4145
4f52 5346 5442 524b 7c02 8524 0290 4002
9726 029b 2c02 a25f 02a7 2e02 b12d 02b6
3b02 bf3d 02c4 3f02 cc21 02d2 5b03 0c5d
030c 7b02 f57d 02f9 2302 dd22 02f1 7e02
fd
</pre>

<ul>
	<li><a href='https://git.sr.ht/~rabbits/drifblim' target='_blank'>View Source</a></li>
	<li><a href='https://rabbits.srht.site/drifblim/drifblim.rom' target='_blank'>Download rom</a></li>
</ul>

<ul></ul><p class="incoming"><b>incoming</b> <a href="symbols.html">symbols</a> <a href="uxn_devlog.html">uxn devlog</a> <a href="uxntal_devlog.html">uxntal devlog</a> <a href="oscean.html">oscean</a> </p></main>
<footer><a href="https://creativecommons.org/licenses/by-nc-sa/4.0" target="_blank"><img src="../media/icon/cc.svg" alt="CreativeCommons"/></a> <a href="https://webring.xxiivv.com/" target="_blank"><img src="../media/icon/webring.svg" alt="Webring"/></a> <a href="https://merveilles.town/@neauoire" rel="me" target="_blank"><img src="../media/icon/merveilles.svg" alt="Merveilles"/></a> <a href="ethics.html"><img src="../media/icon/dreipfeile.svg" alt="NoNazis!"/></a> <a href="uxn.html"><img src="../media/icon/uxn.svg" alt="UxnPowered"/></a> <span><a href="devine_lu_linvega.html">Devine Lu Linvega</a> &copy; 2023 &mdash; <a href="about.html#license">BY-NC-SA 4.0</a></span></footer>
</body></html>