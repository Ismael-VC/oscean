<!DOCTYPE html><html><head>
<meta charset="utf-8"/><meta name="viewport" content="width=device-width, inital-scale=1"/><link href="../links/main.css" type="text/css" rel="stylesheet"/><link href="../media/services/icon.png" type="image/png" rel="shortcut icon"/>
<title>XXIIVV &mdash; gly format</title></head><body>
<header><a href="home.html"><img alt="XXIIVV" src="../media/icon/logo.svg"></a></header>
<nav><ul><li><a href="roms.html">roms</a></li><li><a href="tools.html">tools</a></li><li><a href="libraries.html">libraries</a></li><li><a href="formats.html" class="parent">formats</a></li><li><a href="games.html">games</a></li><li><a href="toys.html">toys</a></li><li><a href="mobile.html">mobile</a></li><li><a href="unreleased.html">unreleased</a></li></ul><ul><li><a href="icn_format.html">icn format</a></li><li><a href="chr_format.html">chr format</a></li><li><a href="nmt_format.html">nmt format</a></li><li><a href="gly_format.html" class="self">gly format</a></li><li><a href="ufx_format.html">ufx format</a></li><li><a href="tga_format.html">tga format</a></li><li><a href="sixel_format.html">sixel format</a></li></ul><ul></ul></nav><main><h2>GLY is a 1-bit inline graphic format.</h2>

<p>Gly is an <a href='https://www.youtube.com/watch?v=L8d-lTMighY' target='_blank'>inline graphics</a> format, similar to <a href='sixel_format.html'>sixels</a>, used to draw 1-bit glyphs inside of <a href='ascii.html'>ASCII</a> text, in which each character represents 4 vertical pixels on 16 pixels high columns. Glyphs are supported by <a href='left.html'>Left</a>, and can be generated in <a href='noodle.html'>Noodle</a> and <a href='nasu.html'>Nasu</a>.</p>

<table border='1'>
	<tr><td colspan='2'>ascii</td><td colspan='2'>y*4</td><td colspan='4'>4 pixels</td></tr>
	<tr><td style='background:black;color:white'>0</td><td style='background:black;color:white'>0</td><td>0</td><td>0</td><td>0</td><td>0</td><td>0</td><td>0</td></tr>
</table>

<p>The format resides entirely in the first half of the ascii table, or below $80. At the end of each row, <code>0x0a</code> denotes the end of a line. For example, a 32px high sprite, will have two line breaks. The Y position is set in increments of 4 pixels vertically for a total of 16 vertical pixels, the <code>0x20</code> advances the rendering by 1 pixel horizontally. </p>

<ul>
	<li><kbd>0x0a</kbd> Life Feed</li>
	<li><kbd>0x20</kbd> x+1</li>
	<li><kbd>#1</kbd> Color1</li>
</ul>

<h3>GLY Example</h3>

<table border='1'>
	<th colspan="2">32x32 Sprite</th>
	<tr>
		<td>
<img src='../media/generic/boxgly.png'/></td>
		<td>	
<pre>
9faf ff88 e384 98e2 8294 e281 96a2 fe8f
97e2 97a2 fc88 95a2 f284 95a2 fc82 95e2
8195 a2fe 8195 e281 95a2 fe81 95e2 8195
a2fc 8195 a2f2 8195 a2fc 8195 e281 95a2
fe81 95e2 8195 e281 95e2 8195 aeff 8195
e581 9de8 8195 f181 93f2 8191 f189 92e8
8594 acff 8398 e281 e10a 8f9f afff f8f8
f889 97ac f8a2 f988 97ac f881 f893 aef9
8894 f881 93ac f8a2 f989 97ac f8f8 8897
acf8 81a2 f993 acf8 8894 f881 93ae f9f8
f8f8 8f9f afff f4f2 f1e8 e4e2 8f9f e1c0
c00a 	
</pre>
		</td>
	</tr>
</table>

<h3>Implementation</h3>

<p>Draw a character's glyph in <a href='uxntal.html'>Uxntal</a> when the screen's <a href='varvara.html'>auto byte</a> is set to <code>auto-y(0x02)</code>:</p>

<pre>
@draw-gly ( chr -- )

	( cmds )
	LDAk #20 NEQ ?&no-x .Screen/x DEI2k INC2 ROT DEO2 INC2 &no-x
	LDAk #20 LTH ?&end
	( opcode )
	LDAk LIT "? SUB STH
	.Screen/y DEI2
	#00 STHkr #30 AND #24 SFT OVR2 ADD2 .Screen/y DEO2
	#0400
	&loop
		STHkr OVR SFT #01 AND .Screen/pixel DEO
		INC GTHk ?&loop
	POP2 POPr
	.Screen/y DEO2
	INC2 !&w

JMP2r
</pre>
<ul></ul></main>
<footer><a href="https://creativecommons.org/licenses/by-nc-sa/4.0" target="_blank"><img src="../media/icon/cc.svg" alt="CreativeCommons"/></a> <a href="https://webring.xxiivv.com/" target="_blank"><img src="../media/icon/webring.svg" alt="Webring"/></a> <a href="https://merveilles.town/@neauoire" rel="me" target="_blank"><img src="../media/icon/merveilles.svg" alt="Merveilles"/></a> <a href="ethics.html"><img src="../media/icon/dreipfeile.svg" alt="NoNazis!"/></a> <a href="uxn.html"><img src="../media/icon/uxn.svg" alt="UxnPowered"/></a> <span><a href="devine_lu_linvega.html">Devine Lu Linvega</a> &copy; 2023 &mdash; <a href="about.html#license">BY-NC-SA 4.0</a></span></footer>
</body></html>