<!DOCTYPE html><html><head>
<meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1">
<link href="../links/main.css" type="text/css" rel="stylesheet"><link href="../media/services/icon.png" type="image/png" rel="shortcut icon">
<title>XXIIVV &mdash; uxntal notation</title></head><body>
<header><a href="home.html"><img alt="XXIIVV" src="../media/icon/logo.svg"></a></header>

<nav><ul><li><a href="uxntal_syntax.html" class="parent">uxntal syntax</a></li><li><a href="uxntal_opcodes.html">uxntal opcodes</a></li><li><a href="uxntal_stacks.html">uxntal stacks</a></li><li><a href="uxntal_modes.html">uxntal modes</a></li><li><a href="uxntal_immediate.html">uxntal immediate</a></li><li><a href="uxntal_memory.html">uxntal memory</a></li><li><a href="uxntal_state.html">uxntal state</a></li><li><a href="uxntal_devices.html">uxntal devices</a></li><li><a href="uxntal_software.html">uxntal software</a></li></ul><ul><li><a href="uxntal_struct.html">uxntal struct</a></li><li><a href="uxntal_signed.html">uxntal signed</a></li><li><a href="uxntal_notation.html" class="self">uxntal notation</a></li><li><a href="uxntal_types.html">uxntal types</a></li><li><a href="uxntal_lambdas.html">uxntal lambdas</a></li><li><a href="uxntal_cons.html">uxntal cons</a></li><li><a href="uxntal_library.html">uxntal library</a></li></ul><ul></ul></nav>
<main><h2>Using stack effect definitions in Uxntal.</h2>

<p>At its most basic, the Uxntal notation follows that of <a
href='forth.html'>Forth</a>, where each item on the left of the -- spacer is
the state of the stack before, and to the right, the state of the stack
after:</p>

<pre>
@routine ( a b -- a b c )
	ADDk JMP2r
</pre>

<p>By default, single items are a byte long, and shorts are indicated with a *
character after the item's name.</p>

<pre>
@routine ( a b* -- b* a )
	ROT JMP2r
</pre>

<p>In some cases, an item is passed to a routine via the return stack, if a
separation of the working and return stack items is needed, the pipe character
indicates items in the return stack to its right. The return address is omitted
from the stack effect notation.</p>

<pre>
@routine ( a | b* -- )
	POP POP2r JMP2r
</pre>

<p>If a specific item on the stack needs to be explicit about it being a pointer
that needs to be unquoted, the concatenative notation is written within square
brackets. Further notation is available for <a href='uxntal_types.html'>program
verification</a>.</p>

<pre>
@routine ( -- [lambda]* )
	{ INCk } STH2r JMP2r
</pre>

<ul></ul><p class="incoming"><b>incoming</b> <a href="uxntal_syntax.html" class="parent">uxntal syntax</a> <a href="uxntal_types.html">uxntal types</a> </p></main>
<footer><a href="https://creativecommons.org/licenses/by-nc-sa/4.0" target="_blank"><img src="../media/icon/cc.svg" alt="CreativeCommons"/></a> <a href="https://webring.xxiivv.com/" target="_blank"><img src="../media/icon/webring.svg" alt="Webring"/></a> <a href="https://merveilles.town/@neauoire" rel="me" target="_blank"><img src="../media/icon/merveilles.svg" alt="Merveilles"/></a> <a href="ethics.html"><img src="../media/icon/dreipfeile.svg" alt="NoNazis!"/></a> <a href="uxn.html"><img src="../media/icon/uxn.svg" alt="UxnPowered"/></a> <span><a href="devine_lu_linvega.html">Devine Lu Linvega</a> &copy; 2023 &mdash; <a href="about.html#license">BY-NC-SA 4.0</a></span></footer>
</body></html>