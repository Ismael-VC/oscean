<!DOCTYPE html><html><head><meta charset="utf-8"/><link href="../links/main.css" type="text/css" rel="stylesheet"/><link href="../media/services/icon.png" type="image/png" rel="shortcut icon"/><title>XXIIVV &mdash; varvara supervisor</title></head><body><header><a href="home.html"><img alt="XXIIVV" src="../media/icon/logo.svg"/></a></header><nav><ul><li><a href="uxntal.html">uxntal</a></li><li><a href="varvara.html" class="parent">varvara</a></li><li><a href="uxn_devlog.html">uxn devlog</a></li></ul><ul><li><a href="varvara_supervisor.html" class="self">varvara supervisor</a></li><li><a href="varvara_devlog.html">varvara devlog</a></li></ul><ul></ul></nav><main><h2>The Varvara supervisor is a way to observe a Uxn process.</h2>

<p>The <a href='varvara.html'>varvara</a> emulator uses two cores, one for running programs, the other for watching the first one run programs. The idea being that to alleviate the emulator's complexity, everything to do with debugging is running as a separate rom, capable of observing the stacks and devices memory of the main <a href='uxn.html'>uxn</a> process.</p>

<table border='1'>
	<tr><td rowspan="8">shadow</td><td>0000-0100</td><td colspan="2">zero-page</td></tr>
	<tr><td>0100-fa00</td><td colspan="2">supervisor program</td></tr>
	<tr><td>fa00-fb00</td><td rowspan="3">supervisor</td><td>device page</td></tr>
	<tr><td>fb00-fc00</td><td>working stack</td></tr>
	<tr><td>fc00-fd00</td><td>return stack</td></tr>
	<tr style='background:#72dec2'><td>fd00-fe00</td><td rowspan="3">main</td><td>device page</td></tr>
	<tr style='background:#72dec2'><td>fe00-ff00</td><td>working stack</td></tr>
	<tr style='background:#72dec2'><td>ff00-0000</td><td>return stack</td></tr>
	<tr><td rowspan="2">program</td><td>0000-0100</td><td colspan="2">zero-page</td></tr>
	<tr><td>0100-0000</td><td colspan="2">supervisor program</td></tr>
</table>

<p>The supervisor program has its own vectors, and operates like any other program. When an error is triggered, the supervisor's System vector is triggered. A stock <code>supervisor.rom</code> file should be provided with the emulator, and loaded automatically into the emulator if present. This rom should at least print the content at the top and length of both the working and return stacks.</p>
<ul></ul></main><footer><a href="https://creativecommons.org/licenses/by-nc-sa/4.0" target="_blank"><img src="../media/icon/cc.svg" alt="CreativeCommons"/></a><a href="https://webring.xxiivv.com/" target="_blank"><img src="../media/icon/webring.svg" alt="Webring"/></a><a href="https://merveilles.town/@neauoire" target="_blank"><img src="../media/icon/merveilles.svg" alt="Merveilles"/></a><a href="uxn.html"><img src="../media/icon/uxn.svg" alt="Uxn Powered"/></a><span><a href="devine_lu_linvega.html">Devine Lu Linvega</a> &copy; 2021 &mdash; <a href="about.html">BY-NC-SA 4.0</a></span></footer>
</body></html>